// Pitstop Planner - Automotive Performance Theme
// Dark mode only theme for car enthusiasts
// Optimized for iOS, Android, and Web platforms

:root {
    // ========================================
    // DARK AUTOMOTIVE PERFORMANCE THEME
    // ========================================

    // Background Colors
    --ion-background-color: #0F172A; // Primary background
    --ion-background-color-rgb: 15, 23, 42;

    --ion-color-step-50: #111827; // Surface/cards
    --ion-color-step-100: #1F2937; // Elevated surface/modals
    --ion-color-step-150: #232b3d;
    --ion-color-step-200: #283044;
    --ion-color-step-250: #2d364b;
    --ion-color-step-300: #323c52;
    --ion-color-step-350: #374259;
    --ion-color-step-400: #3c4860;
    --ion-color-step-450: #414e67;
    --ion-color-step-500: #46546e;
    --ion-color-step-550: #4b5a75;
    --ion-color-step-600: #50607c;
    --ion-color-step-650: #556683;
    --ion-color-step-700: #5a6c8a;
    --ion-color-step-750: #5f7291;
    --ion-color-step-800: #647898;
    --ion-color-step-850: #697e9f;
    --ion-color-step-900: #6e84a6;
    --ion-color-step-950: #738aad;

    // Text Colors
    --ion-text-color: #E5E7EB; // Primary text
    --ion-text-color-rgb: 229, 231, 235;

    --ion-text-color-secondary: #9CA3AF; // Secondary text
    --ion-text-color-disabled: #6B7280; // Disabled text

    // ========================================
    // PRIMARY - Racing Red
    // ========================================
    --ion-color-primary: #DC2626;
    --ion-color-primary-rgb: 220, 38, 38;
    --ion-color-primary-contrast: #FFFFFF;
    --ion-color-primary-contrast-rgb: 255, 255, 255;
    --ion-color-primary-shade: #C11F1F;
    --ion-color-primary-tint: #E03C3C;

    // ========================================
    // SECONDARY - Subtle Red Outline
    // ========================================
    --ion-color-secondary: #374151;
    --ion-color-secondary-rgb: 55, 65, 81;
    --ion-color-secondary-contrast: #DC2626;
    --ion-color-secondary-contrast-rgb: 220, 38, 38;
    --ion-color-secondary-shade: #303947;
    --ion-color-secondary-tint: #4B5563;

    // ========================================
    // TERTIARY - Elevated Surface
    // ========================================
    --ion-color-tertiary: #1F2937;
    --ion-color-tertiary-rgb: 31, 41, 55;
    --ion-color-tertiary-contrast: #E5E7EB;
    --ion-color-tertiary-contrast-rgb: 229, 231, 235;
    --ion-color-tertiary-shade: #1B2330;
    --ion-color-tertiary-tint: #35404B;

    // ========================================
    // SUCCESS - Performance Green
    // ========================================
    --ion-color-success: #22C55E;
    --ion-color-success-rgb: 34, 197, 94;
    --ion-color-success-contrast: #FFFFFF;
    --ion-color-success-contrast-rgb: 255, 255, 255;
    --ion-color-success-shade: #1EAD52;
    --ion-color-success-tint: #38CA6E;

    // ========================================
    // WARNING - Caution Amber
    // ========================================
    --ion-color-warning: #F59E0B;
    --ion-color-warning-rgb: 245, 158, 11;
    --ion-color-warning-contrast: #000000;
    --ion-color-warning-contrast-rgb: 0, 0, 0;
    --ion-color-warning-shade: #D88B0A;
    --ion-color-warning-tint: #F6A823;

    // ========================================
    // DANGER - Critical Alert
    // ========================================
    --ion-color-danger: #EF4444;
    --ion-color-danger-rgb: 239, 68, 68;
    --ion-color-danger-contrast: #FFFFFF;
    --ion-color-danger-contrast-rgb: 255, 255, 255;
    --ion-color-danger-shade: #D23C3C;
    --ion-color-danger-tint: #F15757;

    // ========================================
    // MEDIUM - Mid-tone Gray
    // ========================================
    --ion-color-medium: #6B7280;
    --ion-color-medium-rgb: 107, 114, 128;
    --ion-color-medium-contrast: #FFFFFF;
    --ion-color-medium-contrast-rgb: 255, 255, 255;
    --ion-color-medium-shade: #5E6471;
    --ion-color-medium-tint: #7A818E;

    // ========================================
    // LIGHT - Surface Gray
    // ========================================
    --ion-color-light: #111827;
    --ion-color-light-rgb: 17, 24, 39;
    --ion-color-light-contrast: #E5E7EB;
    --ion-color-light-contrast-rgb: 229, 231, 235;
    --ion-color-light-shade: #0F1522;
    --ion-color-light-tint: #29303D;

    // ========================================
    // DARK - Deep Background
    // ========================================
    --ion-color-dark: #0F172A;
    --ion-color-dark-rgb: 15, 23, 42;
    --ion-color-dark-contrast: #E5E7EB;
    --ion-color-dark-contrast-rgb: 229, 231, 235;
    --ion-color-dark-shade: #0D1325;
    --ion-color-dark-tint: #272F40;

    // ========================================
    // COMPONENT-SPECIFIC OVERRIDES
    // ========================================

    // Toolbar
    --ion-toolbar-background: #111827;
    --ion-toolbar-border-color: #1F2937;
    --ion-toolbar-color: #E5E7EB;

    // Tab Bar
    --ion-tab-bar-background: #111827;
    --ion-tab-bar-border-color: #1F2937;
    --ion-tab-bar-color: #9CA3AF;
    --ion-tab-bar-color-selected: #DC2626;

    // Card
    --ion-card-background: #111827;
    --ion-card-color: #E5E7EB;

    // Item
    --ion-item-background: transparent;
    --ion-item-border-color: #1F2937;
    --ion-item-color: #E5E7EB;

    // List
    --ion-list-background: transparent;

    // Modal
    --ion-modal-background: #1F2937;

    // Overlay
    --ion-overlay-background-color: #0F172A;
    --ion-backdrop-color: rgba(15, 23, 42, 0.8);

    // Border
    --ion-border-color: #1F2937;

    // Ripple effect
    --ion-ripple-color: rgba(220, 38, 38, 0.2);
}

// ========================================
// COMPONENT STYLING
// ========================================

// Content - Main background
ion-content {
    --background: var(--ion-background-color);
    --color: var(--ion-text-color);
}

// Toolbar - Top navigation
ion-toolbar {
    --background: var(--ion-toolbar-background);
    --border-color: var(--ion-toolbar-border-color);
    --color: var(--ion-toolbar-color);
    --min-height: 56px;

    ion-title {
        font-weight: 600;
        letter-spacing: 0.5px;
    }
}

// Tab Bar - Bottom navigation
ion-tab-bar {
    --background: var(--ion-tab-bar-background);
    --border: 1px solid var(--ion-tab-bar-border-color);
    --color: var(--ion-tab-bar-color);

    height: 56px;
    padding-bottom: env(safe-area-inset-bottom);
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.3);
}

ion-tab-button {
    --color: var(--ion-tab-bar-color);
    --color-selected: var(--ion-tab-bar-color-selected);
    --ripple-color: rgba(220, 38, 38, 0.2);

    &::part(native) {
        transition: transform 0.2s ease;
    }

    &.tab-selected {
        ion-icon {
            transform: scale(1.1);
        }

        ion-label {
            font-weight: 600;
        }
    }
}

// Cards - Content containers
ion-card {
    --background: var(--ion-card-background);
    --color: var(--ion-card-color);

    background: var(--ion-card-background);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    margin: 16px;

    ion-card-header {
        padding: 16px;
        border-bottom: 1px solid var(--ion-border-color);

        ion-card-title {
            color: var(--ion-text-color);
            font-weight: 600;
            font-size: 1.2rem;
        }

        ion-card-subtitle {
            color: var(--ion-text-color-secondary);
            font-size: 0.9rem;
            margin-top: 4px;
        }
    }

    ion-card-content {
        padding: 16px;
        color: var(--ion-text-color);
    }

    // Hover effect for web
    @media (hover: hover) {
        &:hover {
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.5);
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
    }
}

// Buttons - Primary and Secondary
ion-button {
    --border-radius: 8px;
    font-weight: 600;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    font-size: 0.875rem;

    // Primary Button - Racing Red
    &[color="primary"] {
        --background: var(--ion-color-primary);
        --background-activated: var(--ion-color-primary-shade);
        --background-hover: var(--ion-color-primary-tint);
        --color: var(--ion-color-primary-contrast);
        --box-shadow: 0 2px 8px rgba(220, 38, 38, 0.3);

        &::part(native) {
            transition: all 0.2s ease;
        }

        @media (hover: hover) {
            &:hover::part(native) {
                transform: translateY(-1px);
                box-shadow: 0 4px 12px rgba(220, 38, 38, 0.4);
            }
        }
    }

    // Secondary Button - Outline/Transparent
    &[fill="outline"],
    &[fill="clear"] {
        --border-color: var(--ion-color-primary);
        --border-width: 2px;
        --color: var(--ion-color-primary);
        --ripple-color: rgba(220, 38, 38, 0.2);

        &:hover {
            --background: rgba(220, 38, 38, 0.1);
        }
    }

    // Disabled state
    &[disabled] {
        --opacity: 0.4;
    }
}

// Lists and Items
ion-list {
    background: transparent;
    padding: 0;
}

ion-item {
    --background: var(--ion-item-background);
    --border-color: var(--ion-item-border-color);
    --color: var(--ion-item-color);
    --padding-start: 16px;
    --padding-end: 16px;
    --min-height: 56px;
    --ripple-color: rgba(220, 38, 38, 0.1);

    --detail-icon-color: var(--ion-color-primary);
    --detail-icon-opacity: 1;

    ion-label {
        margin: 12px 0;

        h2,
        h3 {
            color: var(--ion-text-color);
            font-weight: 500;
        }

        p {
            color: var(--ion-text-color-secondary);
            font-size: 0.875rem;
        }
    }

    ion-icon {
        color: var(--ion-color-primary);
        margin-right: 16px;
    }

    &.item-interactive {
        @media (hover: hover) {
            &:hover {
                --background: rgba(220, 38, 38, 0.05);
            }
        }
    }
}

// Item Divider
ion-item-divider {
    --background: #1F2937;
    --color: var(--ion-text-color-secondary);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 1px;
}

// Modal
ion-modal {
    --background: var(--ion-modal-background);
    --border-radius: 16px;
    --box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);

    &::part(backdrop) {
        background: var(--ion-backdrop-color);
        backdrop-filter: blur(4px);
    }
}

// Searchbar
ion-searchbar {
    --background: #1F2937;
    --color: var(--ion-text-color);
    --placeholder-color: var(--ion-text-color-secondary);
    --icon-color: var(--ion-color-primary);
    --clear-button-color: var(--ion-color-primary);
    --border-radius: 12px;
    --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);

    padding: 12px 16px;
}

// Segment
ion-segment {
    --background: #1F2937;

    ion-segment-button {
        --color: var(--ion-text-color-secondary);
        --color-checked: var(--ion-color-primary-contrast);
        --background-checked: var(--ion-color-primary);
        --indicator-color: var(--ion-color-primary);
        --border-radius: 8px;

        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.875rem;
    }
}

// Badge
ion-badge {
    --background: var(--ion-color-primary);
    --color: var(--ion-color-primary-contrast);
    --padding-start: 8px;
    --padding-end: 8px;

    border-radius: 12px;
    font-weight: 600;
    font-size: 0.75rem;
}

// Chip
ion-chip {
    --background: #1F2937;
    --color: var(--ion-text-color);

    border: 1px solid var(--ion-border-color);
    font-weight: 500;

    ion-icon {
        color: var(--ion-color-primary);
    }
}

// Input
ion-input,
ion-textarea {
    --background: #1F2937;
    --color: var(--ion-text-color);
    --placeholder-color: var(--ion-text-color-secondary);
    --padding-start: 16px;
    --padding-end: 16px;

    &.has-focus {
        --highlight-color: var(--ion-color-primary);
    }
}

// Toggle
ion-toggle {
    --background: #374151;
    --background-checked: var(--ion-color-primary);
    --handle-background: #E5E7EB;
    --handle-background-checked: #FFFFFF;
}

// Checkbox
ion-checkbox {
    --border-color: #6B7280;
    --border-color-checked: var(--ion-color-primary);
    --background-checked: var(--ion-color-primary);
    --checkmark-color: #FFFFFF;
}

// Radio
ion-radio {
    --color: #6B7280;
    --color-checked: var(--ion-color-primary);
}

// Range/Slider
ion-range {
    --bar-background: #374151;
    --bar-background-active: var(--ion-color-primary);
    --knob-background: var(--ion-color-primary);
    --knob-box-shadow: 0 2px 8px rgba(220, 38, 38, 0.4);
    --pin-background: var(--ion-color-primary);
    --pin-color: #FFFFFF;
}

// Progress Bar
ion-progress-bar {
    --background: #374151;
    --progress-background: var(--ion-color-primary);

    height: 6px;
    border-radius: 3px;
}

// Spinner
ion-spinner {
    --color: var(--ion-color-primary);
}

// Toast
ion-toast {
    --background: #1F2937;
    --color: var(--ion-text-color);
    --border-radius: 12px;
    --box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);

    &::part(button) {
        color: var(--ion-color-primary);
    }
}

// Alert
ion-alert {
    --background: #1F2937;
    --color: var(--ion-text-color);

    .alert-title {
        color: var(--ion-text-color);
    }

    .alert-message {
        color: var(--ion-text-color-secondary);
    }

    .alert-button {
        color: var(--ion-color-primary);
    }
}

// Loading
ion-loading {
    --background: #1F2937;
    --spinner-color: var(--ion-color-primary);

    .loading-content {
        color: var(--ion-text-color);
    }
}

// ========================================
// ACCESSIBILITY & PLATFORM OPTIMIZATIONS
// ========================================

// OLED-safe colors (avoid pure black)
// Ensures better battery life on OLED displays
// Already implemented with #0F172A instead of #000000

// Focus indicators for accessibility
*:focus-visible {
    outline: 2px solid var(--ion-color-primary);
    outline-offset: 2px;
}

// Smooth transitions for better UX
ion-content,
ion-card,
ion-button,
ion-item {
    transition: all 0.2s ease;
}

// Platform-specific adjustments
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

// High contrast for better readability in low light
// Contrast ratio maintained above WCAG AA standard (4.5:1)

// iOS safe area handling
ion-toolbar,
ion-tab-bar {
    padding-top: env(safe-area-inset-top);
}

// Android Material Design elevation
@supports (backdrop-filter: blur(10px)) {
    ion-modal::part(backdrop) {
        backdrop-filter: blur(10px);
    }
}